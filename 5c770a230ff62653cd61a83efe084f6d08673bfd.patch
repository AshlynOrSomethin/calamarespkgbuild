From 5c770a230ff62653cd61a83efe084f6d08673bfd Mon Sep 17 00:00:00 2001
From: Artem Grinev <agrinev@manjaro.org>
Date: Wed, 29 Nov 2023 14:03:09 +0600
Subject: [PATCH] [branding] Add sponsor message support

---
 src/branding/manjaro/slideshow/SlideShow.qml | 58 +++++++++++++++++---
 1 file changed, 51 insertions(+), 7 deletions(-)

diff --git a/src/branding/manjaro/slideshow/SlideShow.qml b/src/branding/manjaro/slideshow/SlideShow.qml
index 6abd74cec..63956c4ae 100644
--- a/src/branding/manjaro/slideshow/SlideShow.qml
+++ b/src/branding/manjaro/slideshow/SlideShow.qml
@@ -1,16 +1,16 @@
-import QtQuick 2.15
 import QtQml 2.15
+import QtQuick 2.15
 
 Item {
     id: root
 
-    function onActivate(){
+    function onActivate() {
         timer.restart();
         slider.reset();
         artwork.state = "nearGround";
     }
 
-    function onLeave(){
+    function onLeave() {
     }
 
     width: 800
@@ -18,13 +18,13 @@ Item {
 
     Timer {
         id: timer
+
         interval: 20000
         running: false
         repeat: true
         onTriggered: slider.currentSlideIndex++
     }
 
-
     MouseArea {
         anchors.fill: parent
         onClicked: {
@@ -35,13 +35,14 @@ Item {
 
     Artwork {
         id: artwork
+
         anchors.fill: parent
     }
 
     Slider {
         id: slider
-        height: 50
 
+        height: 50
         slides: [
             Slide {
                 title: qsTr("Hello")
@@ -62,14 +63,57 @@ Item {
                 body: qsTr("It's time to relax and prepare for new adventures.")
                 footer: qsTr("Check our forum and wiki if you have any questions or feedback.")
             }
-
         ]
+
         anchors {
             centerIn: parent
             horizontalCenterOffset: -100
             verticalCenterOffset: -57
         }
+
     }
 
-}
+    Row {
+        id: sponsoredBy
+
+        spacing: 5
+
+        anchors {
+            bottom: parent.bottom
+            right: parent.right
+            margins: 10
+        }
 
+        Text {
+            height: 30
+            font.family: "Montserrat"
+            color: "white"
+            text: qsTr("Brought to you by")
+            verticalAlignment: Text.AlignVCenter
+        }
+
+        Image {
+            source: "sponsor.svg"
+            onStatusChanged: {
+                if ((status == Image.Error))
+                    sponsoredBy.visible = false;
+
+            }
+
+            sourceSize {
+                height: 30
+            }
+
+            MouseArea {
+                anchors.fill: parent
+                cursorShape: Qt.PointingHandCursor
+                onClicked: {
+                    Qt.openUrlExternally("./sponsor.html");
+                }
+            }
+
+        }
+
+    }
+
+}
-- 
GitLab

